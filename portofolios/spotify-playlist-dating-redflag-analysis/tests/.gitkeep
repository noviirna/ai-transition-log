todo: put some unit tests here